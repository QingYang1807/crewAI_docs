# 规划

> 了解如何为您的 CrewAI Crew（团队）添加规划功能并提高其性能。

## 概述

CrewAI 中的规划功能允许您为Crew（团队）添加规划能力。启用后，在每次Crew（团队）迭代之前，所有Crew（团队）信息将发送给 AgentPlanner，它会逐步规划任务，此计划将添加到每个任务描述中。

### 使用规划功能

开始使用规划功能非常简单，只需在您的Crew（团队）中添加 `planning=True`：


```python
from crewai import Crew, Agent, Task, Process

# 组装具有规划能力的Crew（团队）
my_crew = Crew(
    agents=self.agents,
    tasks=self.tasks,
    process=Process.sequential,
    planning=True,
)
```


从现在开始，您的Crew（团队）将启用规划功能，任务将在每次迭代前进行规划。

<Warning>
  启用规划后，crewAI 将使用 `gpt-4o-mini` 作为规划的默认大语言模型，这需要有效的 OpenAI API 密钥。由于您的Agent可能使用不同的大语言模型，如果您没有配置 OpenAI API 密钥或遇到与大语言模型 API 调用相关的意外行为，这可能会导致混淆。
</Warning>

#### 规划大语言模型

现在您可以定义将用于规划任务的大语言模型。

运行基础案例示例时，您将看到类似下面的输出，这代表了负责创建逐步逻辑以添加到Agent任务的 `AgentPlanner` 的输出。


```python
from crewai import Crew, Agent, Task, Process

# 组装具有规划能力和自定义大语言模型的Crew（团队）
my_crew = Crew(
    agents=self.agents,
    tasks=self.tasks,
    process=Process.sequential,
    planning=True,
    planning_llm="gpt-4o"
)

# 运行Crew（团队）
my_crew.kickoff()
```

[2024-07-15 16:49:11][INFO]: 正在规划Crew（团队）执行

**任务执行的逐步计划**

**任务编号 1：对 AI 大语言模型进行彻底研究**

**Agent：** AI 大语言模型高级数据研究员

**Agent目标：** 揭示 AI 大语言模型的最前沿发展

**任务预期输出：** 包含 10 个关于 AI 大语言模型最相关信息的要点列表

**任务工具：** 未指定

**Agent工具：** 未指定

**逐步计划：**

1. **定义研究范围：**
- 确定 AI 大语言模型要关注的具体领域，如架构进步、用例、伦理考虑和性能指标。

2. **确定可靠来源：**
   - 列出 AI 研究的可靠来源，包括学术期刊、行业报告、会议（如 NeurIPS、ACL）、AI 研究实验室（如 OpenAI、Google AI）和在线数据库（如 IEEE
Xplore、arXiv）。

3. **收集数据：**
   - 搜索 2024 年和 2025 年初发布的最新论文、文章和报告。
   - 使用"大型语言模型 2025"、"AI 大语言模型进展"、"AI 伦理 2025"等关键词。
4. **分析发现：**
   - 阅读并总结每个来源的要点。
   - 突出过去一年中引入的新技术、模型和应用。
5. **整理信息：**
   - 将信息分类到相关主题（如新架构、伦理影响、实际应用）。
   - 确保每个要点简洁但信息丰富。
6. **创建列表：**
   - 将 10 条最相关的信息汇编成要点列表。
   - 审查列表以确保清晰度和相关性。
**预期输出：**

包含 10 个关于 AI 大语言模型最相关信息的要点列表。

---

**任务编号 2：审查您获得的上下文，并将每个主题扩展为报告的完整部分**

**Agent：** AI 大语言模型报告分析师

**Agent目标：** 基于 AI 大语言模型数据分析和研究结果创建详细报告

**任务预期输出：** 包含主要主题的完整报告，每个主题都有完整的信息部分。格式为 markdown，不包含 '```'

**任务工具：** 未指定

**Agent工具：** 未指定

**逐步计划：**

1. **审查要点：**
   - 仔细阅读 AI 大语言模型高级数据研究员提供的 10 个要点列表。

2. **概述报告：**
   - 创建大纲，将每个要点作为主要部分标题。
   - 在每个主要标题下规划子部分，以涵盖主题的不同方面。

3. **进一步研究细节：**
   - 对每个要点，必要时进行额外研究以收集更详细的信息。
   - 寻找案例研究、示例和统计数据以支持每个部分。

4. **撰写详细部分：**
   - 将每个要点扩展为全面的部分。
   - 确保每个部分包括引言、详细解释、示例和结论。
   - 使用 markdown 格式设置标题、子标题、列表和强调。

5. **审查和编辑：**
   - 校对报告的清晰度、连贯性和正确性。
   - 确保报告在各个部分之间逻辑流畅。
   - 根据 markdown 标准格式化报告。

6. **最终确定报告：**
   - 确保报告完整，所有部分都已扩展和详细说明。
   - 再次检查格式并进行任何必要的调整。
**预期输出：**
包含主要主题的完整报告，每个主题都有完整的信息部分。格式为 markdown，不包含 '```'。
