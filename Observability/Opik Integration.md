# Opik é›†æˆ

> äº†è§£å¦‚ä½•ä½¿ç”¨ Comet Opik é€šè¿‡å…¨é¢çš„è¿½è¸ªã€è‡ªåŠ¨è¯„ä¼°å’Œç”Ÿäº§å°±ç»ªçš„ä»ªè¡¨æ¿æ¥è°ƒè¯•ã€è¯„ä¼°å’Œç›‘æ§æ‚¨çš„ CrewAI åº”ç”¨ç¨‹åºã€‚

# Opik æ¦‚è¿°

ä½¿ç”¨ [Comet Opik](https://www.comet.com/docs/opik/)ï¼Œé€šè¿‡å…¨é¢çš„è¿½è¸ªã€è‡ªåŠ¨è¯„ä¼°å’Œç”Ÿäº§å°±ç»ªçš„ä»ªè¡¨æ¿æ¥è°ƒè¯•ã€è¯„ä¼°å’Œç›‘æ§æ‚¨çš„ LLM åº”ç”¨ç¨‹åºã€RAG ç³»ç»Ÿå’Œä»£ç†å·¥ä½œæµç¨‹ã€‚

<Frame caption="Opik ä»£ç†ä»ªè¡¨æ¿">
  <img src="https://mintcdn.com/crewai/qVjgZHKAyEOgSSUS/images/opik-crewai-dashboard.png?fit=max&auto=format&n=qVjgZHKAyEOgSSUS&q=85&s=6b313c7d767211f2287d7dd074f9dfeb" alt="ä½¿ç”¨ CrewAI çš„ Opik ä»£ç†ç›‘æ§ç¤ºä¾‹" data-og-width="1538" width="1538" data-og-height="877" height="877" data-path="images/opik-crewai-dashboard.png" data-optimize="true" data-opv="3" srcset="https://mintcdn.com/crewai/qVjgZHKAyEOgSSUS/images/opik-crewai-dashboard.png?w=280&fit=max&auto=format&n=qVjgZHKAyEOgSSUS&q=85&s=b0fd3eca42762838a806dc0d38d0313f 280w, https://mintcdn.com/crewai/qVjgZHKAyEOgSSUS/images/opik-crewai-dashboard.png?w=560&fit=max&auto=format&n=qVjgZHKAyEOgSSUS&q=85&s=ba1166f8b42afee86b3cd88532002fde 560w, https://mintcdn.com/crewai/qVjgZHKAyEOgSSUS/images/opik-crewai-dashboard.png?w=840&fit=max&auto=format&n=qVjgZHKAyEOgSSUS&q=85&s=d7905602ba2ac1dbca66a008be49ca26 840w, https://mintcdn.com/crewai/qVjgZHKAyEOgSSUS/images/opik-crewai-dashboard.png?w=1100&fit=max&auto=format&n=qVjgZHKAyEOgSSUS&q=85&s=51c2c8ce83af0d81fdf851dd378fe6f6 1100w, https://mintcdn.com/crewai/qVjgZHKAyEOgSSUS/images/opik-crewai-dashboard.png?w=1650&fit=max&auto=format&n=qVjgZHKAyEOgSSUS&q=85&s=5184c8370b92c51a03d970a01c7daba5 1650w, https://mintcdn.com/crewai/qVjgZHKAyEOgSSUS/images/opik-crewai-dashboard.png?w=2500&fit=max&auto=format&n=qVjgZHKAyEOgSSUS&q=85&s=80d3fb638cd8ace74953775242cb68cd 2500w" />
</Frame>

Opik ä¸ºæ‚¨çš„ CrewAI åº”ç”¨ç¨‹åºå¼€å‘çš„æ¯ä¸ªé˜¶æ®µæä¾›å…¨é¢æ”¯æŒï¼š

* **è®°å½•è¿½è¸ªå’Œè·¨åº¦**ï¼šè‡ªåŠ¨è·Ÿè¸ª LLM è°ƒç”¨å’Œåº”ç”¨ç¨‹åºé€»è¾‘ï¼Œä»¥è°ƒè¯•å’Œåˆ†æå¼€å‘å’Œç”Ÿäº§ç³»ç»Ÿã€‚æ‰‹åŠ¨æˆ–ä»¥ç¼–ç¨‹æ–¹å¼æ³¨é‡Šã€æŸ¥çœ‹å’Œæ¯”è¾ƒè·¨é¡¹ç›®çš„å“åº”ã€‚
* **è¯„ä¼°æ‚¨çš„ LLM åº”ç”¨ç¨‹åºæ€§èƒ½**ï¼šæ ¹æ®è‡ªå®šä¹‰æµ‹è¯•é›†è¿›è¡Œè¯„ä¼°ï¼Œè¿è¡Œå†…ç½®è¯„ä¼°æŒ‡æ ‡æˆ–åœ¨ SDK æˆ– UI ä¸­å®šä¹‰æ‚¨è‡ªå·±çš„æŒ‡æ ‡ã€‚
* **åœ¨æ‚¨çš„ CI/CD ç®¡é“ä¸­è¿›è¡Œæµ‹è¯•**ï¼šä½¿ç”¨ Opik åŸºäº PyTest æ„å»ºçš„ LLM å•å…ƒæµ‹è¯•å»ºç«‹å¯é çš„æ€§èƒ½åŸºçº¿ã€‚è¿è¡Œåœ¨çº¿è¯„ä¼°ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡ŒæŒç»­ç›‘æ§ã€‚
* **ç›‘æ§å’Œåˆ†æç”Ÿäº§æ•°æ®**ï¼šäº†è§£æ‚¨çš„æ¨¡å‹åœ¨ç”Ÿäº§ä¸­å¯¹æœªè§æ•°æ®çš„æ€§èƒ½ï¼Œå¹¶ä¸ºæ–°çš„å¼€å‘è¿­ä»£ç”Ÿæˆæ•°æ®é›†ã€‚

## è®¾ç½®

Comet æä¾›äº† Opik å¹³å°çš„æ‰˜ç®¡ç‰ˆæœ¬ï¼Œæˆ–è€…æ‚¨å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œè¯¥å¹³å°ã€‚

è¦ä½¿ç”¨æ‰˜ç®¡ç‰ˆæœ¬ï¼Œåªéœ€[åˆ›å»ºä¸€ä¸ªå…è´¹çš„ Comet è´¦æˆ·](https://www.comet.com/signup?utm_medium=github\&utm_source=crewai_docs)å¹¶è·å–æ‚¨çš„ API å¯†é’¥ã€‚

è¦åœ¨æœ¬åœ°è¿è¡Œ Opik å¹³å°ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„[å®‰è£…æŒ‡å—](https://www.comet.com/docs/opik/self-host/overview/)è·å–æ›´å¤šä¿¡æ¯ã€‚

åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ CrewAI çš„å¿«é€Ÿå…¥é—¨ç¤ºä¾‹ã€‚

<Steps>
  <Step title="å®‰è£…å¿…éœ€çš„åŒ…">
    ```shell  theme={null}
    pip install crewai crewai-tools opik --upgrade
    ```
  </Step>

  <Step title="é…ç½® Opik">
    ```python  theme={null}
    import opik
    opik.configure(use_local=False)
    ```
  </Step>

  <Step title="å‡†å¤‡ç¯å¢ƒ">
    é¦–å…ˆï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„ LLM æä¾›å•†çš„ API å¯†é’¥è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼š

    ```python  theme={null}
    import os
    import getpass

    if "OPENAI_API_KEY" not in os.environ:
    os.environ["OPENAI_API_KEY"] = getpass.getpass("è¾“å…¥æ‚¨çš„ OpenAI API å¯†é’¥: ")
    ```
  </Step>

  <Step title="ä½¿ç”¨ CrewAI">
    ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºæˆ‘ä»¬çš„é¡¹ç›®ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ CrewAI æ–‡æ¡£ä¸­çš„ä¸€ä¸ªç¤ºä¾‹ï¼š

    ```python  theme={null}
    from crewai import Agent, Crew, Task, Process


    class YourCrewName:
        def agent_one(self) -> Agent:
            return Agent(
                role="æ•°æ®åˆ†æå¸ˆ",
                goal="åˆ†æå¸‚åœºæ•°æ®è¶‹åŠ¿",
                backstory="ä¸€ä½å…·æœ‰ç»æµå­¦èƒŒæ™¯çš„ç»éªŒä¸°å¯Œçš„æ•°æ®åˆ†æå¸ˆ",
                verbose=True,
            )

        def agent_two(self) -> Agent:
            return Agent(
                role="å¸‚åœºç ”ç©¶å‘˜",
                goal="æ”¶é›†å¸‚åœºåŠ¨æ€ä¿¡æ¯",
                backstory="ä¸€ä½å‹¤å¥‹çš„ç ”ç©¶å‘˜ï¼Œå¯¹ç»†èŠ‚æœ‰æ•é”çš„æ´å¯ŸåŠ›",
                verbose=True,
            )

        def task_one(self) -> Task:
            return Task(
                name="æ”¶é›†æ•°æ®ä»»åŠ¡",
                description="æ”¶é›†æœ€è¿‘çš„å¸‚åœºæ•°æ®å¹¶ç¡®å®šè¶‹åŠ¿ã€‚",
                expected_output="ä¸€ä»½æ€»ç»“å¸‚åœºå…³é”®è¶‹åŠ¿çš„æŠ¥å‘Šã€‚",
                agent=self.agent_one(),
            )

        def task_two(self) -> Task:
            return Task(
                name="å¸‚åœºç ”ç©¶ä»»åŠ¡",
                description="ç ”ç©¶å½±å“å¸‚åœºåŠ¨æ€çš„å› ç´ ã€‚",
                expected_output="å¯¹å½±å“å¸‚åœºå› ç´ çš„åˆ†æã€‚",
                agent=self.agent_two(),
            )

        def crew(self) -> Crew:
            return Crew(
                agents=[self.agent_one(), self.agent_two()],
                tasks=[self.task_one(), self.task_two()],
                process=Process.sequential,
                verbose=True,
            )

    ```

    ç°åœ¨æˆ‘ä»¬å¯ä»¥å¯¼å…¥ Opik çš„è·Ÿè¸ªå™¨å¹¶è¿è¡Œæˆ‘ä»¬çš„ crewï¼š

    ```python  theme={null}
    from opik.integrations.crewai import track_crewai

    track_crewai(project_name="crewai-integration-demo")

    my_crew = YourCrewName().crew()
    result = my_crew.kickoff()

    print(result)
    ```

    è¿è¡Œæ‚¨çš„ CrewAI åº”ç”¨ç¨‹åºåï¼Œè®¿é—® Opik åº”ç”¨ç¨‹åºæŸ¥çœ‹ï¼š

    * LLM è¿½è¸ªã€è·¨åº¦åŠå…¶å…ƒæ•°æ®
    * ä»£ç†äº¤äº’å’Œä»»åŠ¡æ‰§è¡Œæµç¨‹
    * å»¶è¿Ÿå’Œä»¤ç‰Œä½¿ç”¨ç­‰æ€§èƒ½æŒ‡æ ‡
    * è¯„ä¼°æŒ‡æ ‡ï¼ˆå†…ç½®æˆ–è‡ªå®šä¹‰ï¼‰
  </Step>
</Steps>

## èµ„æº

* [ğŸ¦‰ Opik æ–‡æ¡£](https://www.comet.com/docs/opik/)
* [ğŸ‘‰ Opik + CrewAI Colab](https://colab.research.google.com/github/comet-ml/opik/blob/main/apps/opik-documentation/documentation/docs/cookbook/crewai.ipynb)
* [ğŸ¦ X](https://x.com/cometml)
* [ğŸ’¬ Slack](https://slack.comet.com/)